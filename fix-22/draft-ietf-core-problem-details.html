<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Hebrew,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Concise Problem Details For CoAP APIs</title>
<meta content="Thomas Fossati" name="author">
<meta content="Carsten Bormann" name="author">
<meta content='
       This document defines a concise "problem detail" as a way to carry
machine-readable details of errors in a REST response to avoid the
need to define new error response formats for REST APIs for
constrained environments.
The format
is inspired by, but intended to be more concise than, the Problem
Details for HTTP APIs defined in RFC 7807. 
    ' name="description">
<meta content="xml2rfc 3.12.10" name="generator">
<meta content="CoAP, API, Problem Details" name="keyword">
<meta content="draft-ietf-core-problem-details-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.10
    Python 3.10.4
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.1
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.4.0
    six 1.16.0
-->
<link href="draft-ietf-core-problem-details.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: 14.5px;
}
.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([stroke="fill"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">CoRE Problem Details</td>
<td class="right">June 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Fossati &amp; Bormann</td>
<td class="center">Expires 13 December 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">CoRE Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-core-problem-details-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-06-11" class="published">11 June 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-12-13">13 December 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. Fossati</div>
<div class="org">arm</div>
</div>
<div class="author">
      <div class="author-name">C. Bormann</div>
<div class="org">Universität Bremen TZI</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Concise Problem Details For CoAP APIs</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a concise "problem detail" as a way to carry
machine-readable details of errors in a REST response to avoid the
need to define new error response formats for REST APIs for
constrained environments.
The format
is inspired by, but intended to be more concise than, the Problem
Details for HTTP APIs defined in RFC 7807.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-ietf-core-problem-details/">https://datatracker.ietf.org/doc/draft-ietf-core-problem-details/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        Constrained RESTful Environments Working Group mailing list (<span><a href="mailto:core@ietf.org">mailto:core@ietf.org</a></span>),
        which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/core/">https://mailarchive.ietf.org/arch/browse/core/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/core-wg/core-problem-details">https://github.com/core-wg/core-problem-details</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 13 December 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology-and-requirement" class="xref">Terminology and Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-basic-problem-details" class="xref">Basic Problem Details</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-extending-concise-problem-d" class="xref">Extending Concise Problem Details</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-standard-problem-detail-ent" class="xref">Standard Problem Detail Entries</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-custom-problem-detail-entri" class="xref">Custom Problem Detail Entries</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-standard-problem-detail-key" class="xref">Standard Problem Detail Key registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-custom-problem-detail-key-r" class="xref">Custom Problem Detail Key registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-media-type" class="xref">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-content-format" class="xref">Content-Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="xref">5.5</a>.  <a href="#name-cbor-tag-38" class="xref">CBOR Tag 38</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-language-tagged-strings" class="xref">Language-Tagged Strings</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-introduction-2" class="xref">Introduction</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-detailed-semantics" class="xref">Detailed Semantics</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-examples" class="xref">Examples</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-interworking-with-rfc-7807" class="xref">Interworking with RFC 7807</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-C" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-D" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-E" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">REST response status information such as CoAP response
codes (<span><a href="https://rfc-editor.org/rfc/rfc7252#section-5.9" class="relref">Section 5.9</a> of [<a href="#RFC7252" class="xref">RFC7252</a>]</span>) is sometimes not sufficient to convey enough information about
an error to be helpful.  This specification defines a simple and extensible
framework to define CBOR <span>[<a href="#STD94" class="xref">STD94</a>]</span> data items to suit this purpose.
It is designed to be reused by REST APIs, which can identify distinct
shapes of these data items specific to their needs.
Thus, API clients can be informed of both the high-level error class
(using the response code) and the finer-grained details of the problem
(using the vocabulary defined here).
This pattern of communication is illustrated in <a href="#fig-problem-details" class="xref">Figure 1</a>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<span id="name-problem-details-example-wit"></span><div id="fig-problem-details">
<figure id="figure-1">
        <div id="section-1-2.1">
          <div class="alignCenter art-svg artwork" id="section-1-2.1.1">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="256" width="288" viewBox="0 0 288 256" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px">
              <path d="M 8,32 L 8,80" fill="none" stroke="black"></path>
              <path d="M 48,80 L 48,240" fill="none" stroke="black"></path>
              <path d="M 80,32 L 80,80" fill="none" stroke="black"></path>
              <path d="M 168,32 L 168,80" fill="none" stroke="black"></path>
              <path d="M 200,80 L 200,240" fill="none" stroke="black"></path>
              <path d="M 240,32 L 240,80" fill="none" stroke="black"></path>
              <path d="M 8,32 L 80,32" fill="none" stroke="black"></path>
              <path d="M 168,32 L 240,32" fill="none" stroke="black"></path>
              <path d="M 8,80 L 80,80" fill="none" stroke="black"></path>
              <path d="M 168,80 L 240,80" fill="none" stroke="black"></path>
              <path d="M 56,128 L 192,128" fill="none" stroke="black"></path>
              <path d="M 56,160 L 192,160" fill="none" stroke="black"></path>
              <polygon class="arrowhead" points="200,128 188,122.4 188,133.6" fill="black" transform="rotate(0,192,128)"></polygon>
              <polygon class="arrowhead" points="64,160 52,154.4 52,165.6" fill="black" transform="rotate(180,56,160)"></polygon>
              <circle cx="48" cy="128" r="6" class="opendot" fill="white" stroke="black"></circle>
              <circle cx="200" cy="160" r="6" class="opendot" fill="white" stroke="black"></circle>
              <g class="text">
                <text x="44" y="52">CoAP</text>
                <text x="204" y="52">CoAP</text>
                <text x="44" y="68">Client</text>
                <text x="204" y="68">Server</text>
                <text x="88" y="116">Request</text>
                <text x="248" y="148">(failure)</text>
                <text x="96" y="180">Error</text>
                <text x="156" y="180">Response</text>
                <text x="116" y="196">with</text>
                <text x="144" y="196">a</text>
                <text x="172" y="196">CBOR</text>
                <text x="76" y="212">data</text>
                <text x="116" y="212">item</text>
                <text x="164" y="212">giving</text>
                <text x="96" y="228">Problem</text>
                <text x="160" y="228">Details</text>
              </g>
            </svg><a href="#section-1-2.1.1" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-problem-details-example-wit" class="selfRef">Problem Details: Example with CoAP</a>
        </figcaption></figure>
</div>
<p id="section-1-3">The framework presented is largely inspired by the Problem Details for HTTP APIs defined in <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span>.
<a href="#comp7807" class="xref">Appendix B</a> discusses applications where interworking with <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> is required.<a href="#section-1-3" class="pilcrow">¶</a></p>
<div id="terminology-and-requirements-language">
<section id="section-1.1">
        <h3 id="name-terminology-and-requirement">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology-and-requirement" class="section-name selfRef">Terminology and Requirements Language</a>
        </h3>
<p id="section-1.1-1">The terminology from <span>[<a href="#RFC7252" class="xref">RFC7252</a>]</span>, <span>[<a href="#STD94" class="xref">STD94</a>]</span>, and <span>[<a href="#RFC8610" class="xref">RFC8610</a>]</span> applies; in particular CBOR
diagnostic notation is defined in <span><a href="https://rfc-editor.org/rfc/rfc8949#section-8" class="relref">Section 8</a> of [<a href="#STD94" class="xref">STD94</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc8610#appendix-G" class="relref">Appendix G</a> of [<a href="#RFC8610" class="xref">RFC8610</a>]</span>.
Readers are also expected to be familiar with the terminology from <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span>.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">In this document, the structure of data is specified in CDDL <span>[<a href="#RFC8610" class="xref">RFC8610</a>]</span> <span>[<a href="#RFC9165" class="xref">RFC9165</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="basic-problem-details">
<section id="section-2">
      <h2 id="name-basic-problem-details">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-basic-problem-details" class="section-name selfRef">Basic Problem Details</a>
      </h2>
<p id="section-2-1">A Concise Problem Details data item is a CBOR data item with the following
structure (rules named starting with <code>tag38</code> are defined in <a href="#tag38" class="xref">Appendix A</a>):<a href="#section-2-1" class="pilcrow">¶</a></p>
<span id="name-structure-of-concise-proble"></span><div id="cddl">
<figure id="figure-2">
        <div id="section-2-2.1">
<pre class="lang-cddl sourcecode">
problem-details = non-empty&lt;{
  ? &amp;(title: -1) =&gt; oltext
  ? &amp;(detail: -2) =&gt; oltext
  ? &amp;(instance: -3) =&gt; ~uri
  ? &amp;(response-code: -4) =&gt; uint .size 1
  ? &amp;(base-uri: -5) =&gt; ~uri
  ? &amp;(base-lang: -6) =&gt; tag38-ltag
  ? &amp;(base-rtl: -7) =&gt; tag38-direction
  standard-problem-detail-entries
  custom-problem-detail-entries
}&gt;

standard-problem-detail-entries = (
  * nint =&gt; any
)

custom-problem-detail-entries = (
  * (uint/~uri) =&gt; { + any =&gt; any }
)

non-empty&lt;M&gt; = (M) .and ({ + any =&gt; any })

oltext = text / tag38

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-structure-of-concise-proble" class="selfRef">Structure of Concise Problem Details Data Item</a>
        </figcaption></figure>
</div>
<p id="section-2-3">A number of problem detail entries, the Standard Problem Detail
entries, are predefined (more predefined details can be registered,
see <a href="#new-spdk" class="xref">Section 3.1</a>).<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Note that, unlike <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span>, Concise Problem Details data items have
no explicit "problem type".
Instead, the category (or, one could say, Gestalt) of the problem can
be understood from the shape of the problem details offered. We talk of
a "problem shape" for short.<a href="#section-2-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-5">
        <dt id="section-2-5.1">The title (key -1):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.2">
          <p id="section-2-5.2.1">A short, human-readable summary of the problem shape.
It <span class="bcp14">SHOULD NOT</span> change from occurrence to occurrence of the same
problem shape.<a href="#section-2-5.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.3">The detail (key -2):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.4">
          <p id="section-2-5.4.1">A human-readable explanation specific to this occurrence of the problem.<a href="#section-2-5.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.5">The instance (key -3):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.6">
          <p id="section-2-5.6.1">A URI reference that identifies the specific occurrence of the problem.
It may or may not yield further information if dereferenced.<a href="#section-2-5.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.7">The response-code (key -4):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.8">
          <p id="section-2-5.8.1">The CoAP response code (Sections <a href="https://rfc-editor.org/rfc/rfc7252#section-5.9" class="relref">5.9</a> and <a href="https://rfc-editor.org/rfc/rfc7252#section-12.1.2" class="relref">12.1.2</a> of <span>[<a href="#RFC7252" class="xref">RFC7252</a>]</span>) generated by the origin
server for this occurrence of the problem.<a href="#section-2-5.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.9">The base-uri (key -5):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.10">
          <p id="section-2-5.10.1">The base URI (<span><a href="https://rfc-editor.org/rfc/rfc3986#section-5.1" class="relref">Section 5.1</a> of [<a href="#STD66" class="xref">STD66</a>]</span>) that should be used to resolve
relative URI references embedded in this Concise Problem Details
data item.<a href="#section-2-5.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.11">The base-lang (key -6):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.12">
          <p id="section-2-5.12.1">The language-tag (tag38-ltag) that applies to the presentation of
unadorned text strings in this Concise Problem Details data item,
see <a href="#tag38" class="xref">Appendix A</a>.<a href="#section-2-5.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-2-5.13">The base-rtl (key -7):</dt>
        <dd style="margin-left: 1.5em" id="section-2-5.14">
          <p id="section-2-5.14.1">The writing-direction (tag38-direction) that applies to the
presentation of unadorned text strings in this Concise Problem
Details data item, see <a href="#tag38" class="xref">Appendix A</a>.<a href="#section-2-5.14.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-2-6">Both "title" and "detail" can use either an unadorned CBOR text string
(<code>text</code>) or a language-tagged text string (<code>tag38</code>); see <a href="#tag38" class="xref">Appendix A</a> for
the definition of the latter.
Language tag and writing direction information for unadorned text
strings are intended to be obtained from context; if that context
needs to be saved or forwarded with a Concise Problem Details data
item, "base-lang" and "base-rtl" can be used for that.
If no such (explicitly saved or implicit) context information is
available, unadorned text is interpreted with language-tag "en" and
writing-direction "false" (ltr).<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">The "title" string is advisory and included to give
consumers a shorthand for the category (problem shape) of the error encountered.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">The "detail" member, if present, ought to focus on helping the client correct the problem, rather than giving debugging information.  Consumers <span class="bcp14">SHOULD NOT</span> parse the "detail" member for information; extensions (see <a href="#sec-new-attributes" class="xref">Section 3</a>) are more suitable and less error-prone ways to obtain such information.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">Note that the "instance" URI reference may be relative; this means
that it must be resolved relative to the representation's base URI, as
per <span><a href="https://rfc-editor.org/rfc/rfc3986#section-5" class="relref">Section 5</a> of [<a href="#STD66" class="xref">STD66</a>]</span>.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">The "response-code" member, if present, is only advisory; it conveys
the CoAP response code used for the convenience of the consumer.
Generators <span class="bcp14">MUST</span> use the same response code here as in the actual CoAP
response; the latter is needed to assure that generic CoAP software that
does not understand the problem-details format still behaves
correctly.
Consumers can use the response-code member to determine what the
original response code used by the generator was, in cases where it
has been changed (e.g., by an intermediary or cache), and when message
bodies persist without CoAP information (e.g., in an events log or analytics
database).
Generic CoAP software will still use the CoAP response code.
To support the use case of message body persistence without support by
the problem-details generator, the entity that persists the Concise
Problem Details data item can copy over the CoAP response code
that it received on the CoAP level.
Note that the "response-code" value is a numeric representation of the
actual code (see <span><a href="https://rfc-editor.org/rfc/rfc7252#section-3" class="relref">Section 3</a> of [<a href="#RFC7252" class="xref">RFC7252</a>]</span>), so it does not take the usual
presentation form that resembles an
HTTP status code -- <code>4.04 Not found</code> is represented by the number 132.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">The "base-uri" member is usually not present in the initial
request-response communication as it can be inferred as per <span><a href="https://rfc-editor.org/rfc/rfc3986#section-5.1.3" class="relref">Section 5.1.3</a> of [<a href="#STD66" class="xref">STD66</a>]</span>.
An entity that stores a Concise Problem Details data item or otherwise
makes it available for consumers without this context might add in a
base-uri member to allow those consumers to perform resolution of any
relative URI references embedded in the data item.<a href="#section-2-11" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-new-attributes">
<section id="section-3">
      <h2 id="name-extending-concise-problem-d">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-extending-concise-problem-d" class="section-name selfRef">Extending Concise Problem Details</a>
      </h2>
<p id="section-3-1">This specification defines a generic problem details container with only a
minimal set of attributes to make it usable.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">It is expected that applications will extend the base format by defining new
attributes.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">These new attributes fall into two categories: generic and application
specific.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Generic attributes will be allocated in the <code>standard-problem-detail-entries</code>
slot according to the registration procedure defined in <a href="#new-spdk" class="xref">Section 3.1</a>.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">Application-specific attributes will be allocated in the
<code>custom-problem-detail-entries</code> slot according to the procedure described in
<a href="#new-cpdk" class="xref">Section 3.2</a>.<a href="#section-3-5" class="pilcrow">¶</a></p>
<div id="new-spdk">
<section id="section-3.1">
        <h3 id="name-standard-problem-detail-ent">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-standard-problem-detail-ent" class="section-name selfRef">Standard Problem Detail Entries</a>
        </h3>
<p id="section-3.1-1">Beyond the Standard Problem Detail keys defined in <a href="#cddl" class="xref">Figure 2</a>, additional
Standard Problem Detail keys can be registered for use in the
<code>standard-problem-detail-entries</code> slot (see <a href="#iana-spdk" class="xref">Section 5.1</a>).<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Standard Problem Detail keys are negative integers, so they can never
conflict with Custom Problem Detail keys defined for a specific
application domain
(which are unsigned integers or URIs.)<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">In summary, the keys for Standard Problem Detail entries are in a
global namespace that is not specific to a particular application domain.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Consumers of a Concise Problem Details data item <span class="bcp14">MUST</span> ignore any Standard Problem
Detail entries that they do not recognize; this allows problem details to evolve.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="new-cpdk">
<section id="section-3.2">
        <h3 id="name-custom-problem-detail-entri">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-custom-problem-detail-entri" class="section-name selfRef">Custom Problem Detail Entries</a>
        </h3>
<p id="section-3.2-1">Applications may extend the Problem Details data item with
additional entries to convey additional, application-specific information.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Such new entries are allocated in the <code>custom-problem-detail-entries</code> slot, and
carry a nested map specific to that application.  The map key can either be
an (absolute!) URI (under control of the entity defining this extension),
or an unsigned integer.
Only the latter needs to be registered (<a href="#iana-cpdk" class="xref">Section 5.2</a>).<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">Within the nested map, any number of attributes can be given for a
single extension.
The semantics of each custom attribute <span class="bcp14">MUST</span> be described in the
documentation for the extension; for extensions that are registered
(i.e., are identified by an unsigned int) that documentation goes
along with the registration.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">The unsigned integer form allows a more compact representation.
In
exchange, authors are expected to comply with the required
registration and documentation process.
In comparison, the URI form is less space-efficient but requires no
registration.  It is therefore useful for experimenting during the development
cycle and for applications deployed in environments where producers and
consumers of Concise Problem Details are more tightly integrated.
(The URI form thus covers the potential need we might otherwise have for a "private use" range for the unsigned integers.)<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">Note that the URI given for the extension is for identification
purposes only and, even if dereferenceable in principle, it <span class="bcp14">MUST NOT</span> be
dereferenced in the normal course of handling problem details (i.e., outside
diagnostic/debugging procedures involving humans).<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6"><a href="#fig-example-custom-with-uri" class="xref">Figure 3</a> shows an example (in CBOR diagnostic notation)
of a custom extension using a (made-up) URI as <code>custom-problem-detail-entries</code> key.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<span id="name-example-extension-with-uri-"></span><div id="fig-example-custom-with-uri">
<figure id="figure-3">
          <div class="alignCenter art-cbor-diag art-text artwork" id="section-3.2-7.1">
<pre>
{
  / title /         -1: "title of the error",
  / detail /        -2: "detailed information about the error",
  / instance /      -3: "coaps://pd.example/FA317434",
  / response-code / -4: 128, / 4.00 /

  "tag:3gpp.org,2022-03:TS29112": {
    / cause /  0: "machine readable error cause",
    / invalidParams / 1: [
      [
        / param / "first parameter name",
        / reason / "must be a positive integer"
      ],
      [
        / param / "second parameter name"
      ]
    ],
    / supportedFeatures / 2: "d34db33f"
  }
}
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-extension-with-uri-" class="selfRef">Example Extension with URI key</a>
          </figcaption></figure>
</div>
<p id="section-3.2-8">Obviously, an SDO like 3GPP can also easily register such a custom
problem detail entry to receive a more efficient unsigned integer key;
<a href="#fig-example-custom-with-uint" class="xref">Figure 4</a> shows how
the same example would look like using a (made-up) registered unsigned int as
<code>custom-problem-detail-entries</code> key:<a href="#section-3.2-8" class="pilcrow">¶</a></p>
<span id="name-example-extension-with-unsi"></span><div id="fig-example-custom-with-uint">
<figure id="figure-4">
          <div class="alignCenter art-cbor-diag art-text artwork" id="section-3.2-9.1">
<pre>
{
  / title /         -1: "title of the error",
  / detail /        -2: "detailed information about the error",
  / instance /      -3: "coaps://pd.example/FA317434",
  / response-code / -4: 128, / 4.00 /

  /4711 is made-up example key that is not actually registered:/
  4711: {
    / cause /  0: "machine readable error cause",
    / invalidParams / 1: [
      [
        / param / "first parameter name",
        / reason / "must be a positive integer"
      ],
      [
        / param / "second parameter name"
      ]
    ],
    / supportedFeatures / 2: "d34db33f"
  }
}
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-example-extension-with-unsi" class="selfRef">Example Extension with unsigned int (registered) key</a>
          </figcaption></figure>
</div>
<p id="section-3.2-10">In summary, the keys for the maps used inside Custom Problem Detail
entries are defined specifically to the identifier of that Custom Problem Detail
entry, the documentation of which defines these internal entries,
typically chosen to address a given application domain.<a href="#section-3.2-10" class="pilcrow">¶</a></p>
<p id="section-3.2-11">Consumers of a Concise Problem Details data item <span class="bcp14">MUST</span> ignore any Custom
Problem Detail entries, or keys inside the Custom Problem Detail
entries, that they do not recognize; this allows Custom Problem Detail
entries to evolve and include additional information in the future.
The assumption is that this is done in a backward and forward
compatible way.<a href="#section-3.2-11" class="pilcrow">¶</a></p>
<p id="section-3.2-12">Sometimes, Custom Problem Detail entries can evolve in a way where
forward compatibility by "ignore unknown" would not be appropriate:
e.g., when needing to add a "must-understand" member, which can only
be ignored at the peril of misunderstanding the Concise Problem
Details data item ("false interoperability").
In this case, a new Custom Problem Detail key can simply be
registered for this case, keeping the old key backward and
forward-compatible.<a href="#section-3.2-12" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="seccons">
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">The security and privacy considerations outlined in Section 5 of <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> apply in full.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1"><span class="cref" id="to-be-removed">RFC Editor: please replace RFC XXXX with this RFC number and remove this note.</span><a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="iana-spdk">
<section id="section-5.1">
        <h3 id="name-standard-problem-detail-key">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-standard-problem-detail-key" class="section-name selfRef">Standard Problem Detail Key registry</a>
        </h3>
<p id="section-5.1-1">This specification defines a new sub-registry for Standard Problem
Detail Keys in the CoRE Parameters registry <span>[<a href="#IANA.core-parameters" class="xref">IANA.core-parameters</a>]</span>,
with the policy "specification required" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">Each entry in the registry must include:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.1-3">
          <dt id="section-5.1-3.1">Key value:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-3.2">
            <p id="section-5.1-3.2.1">a negative integer to be used as the value of the key<a href="#section-5.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.3">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-3.4">
            <p id="section-5.1-3.4.1">a name that could be used in implementations for the key<a href="#section-5.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.5">CDDL type:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-3.6">
            <p id="section-5.1-3.6.1">type of the data associated with the key in CDDL notation<a href="#section-5.1-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.7">Brief description:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-3.8">
            <p id="section-5.1-3.8.1">a brief description<a href="#section-5.1-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-3.9">reference:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-3.10">
            <p id="section-5.1-3.10.1">a reference document<a href="#section-5.1-3.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.1-4">Initial entries in this sub-registry are as follows:<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<span id="name-initial-entries-in-the-stan"></span><div id="spdk">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-initial-entries-in-the-stan" class="selfRef">Initial Entries in the Standard Problem Detail Key registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Key value</th>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">CDDL Type</th>
              <th class="text-left" rowspan="1" colspan="1">Brief description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-1</td>
              <td class="text-left" rowspan="1" colspan="1">title</td>
              <td class="text-left" rowspan="1" colspan="1">text or tag 38</td>
              <td class="text-left" rowspan="1" colspan="1">short, human-readable summary of the problem shape</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-2</td>
              <td class="text-left" rowspan="1" colspan="1">detail</td>
              <td class="text-left" rowspan="1" colspan="1">text or tag 38</td>
              <td class="text-left" rowspan="1" colspan="1">human-readable explanation specific to this occurrence of the problem</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-3</td>
              <td class="text-left" rowspan="1" colspan="1">instance</td>
              <td class="text-left" rowspan="1" colspan="1">~uri</td>
              <td class="text-left" rowspan="1" colspan="1">URI reference identifying specific occurrence of the problem</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-4</td>
              <td class="text-left" rowspan="1" colspan="1">response-code</td>
              <td class="text-left" rowspan="1" colspan="1">uint .size 1</td>
              <td class="text-left" rowspan="1" colspan="1">CoAP response code</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-5</td>
              <td class="text-left" rowspan="1" colspan="1">base-uri</td>
              <td class="text-left" rowspan="1" colspan="1">~uri</td>
              <td class="text-left" rowspan="1" colspan="1">Base URI</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-6</td>
              <td class="text-left" rowspan="1" colspan="1">base-lang</td>
              <td class="text-left" rowspan="1" colspan="1">tag38-ltag</td>
              <td class="text-left" rowspan="1" colspan="1">Base language tag (see <a href="#tag38" class="xref">Appendix A</a>)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">-7</td>
              <td class="text-left" rowspan="1" colspan="1">base-rtl</td>
              <td class="text-left" rowspan="1" colspan="1">tag38-direction</td>
              <td class="text-left" rowspan="1" colspan="1">Base writing direction (see <a href="#tag38" class="xref">Appendix A</a>)</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-cpdk">
<section id="section-5.2">
        <h3 id="name-custom-problem-detail-key-r">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-custom-problem-detail-key-r" class="section-name selfRef">Custom Problem Detail Key registry</a>
        </h3>
<p id="section-5.2-1">This specification defines a new sub-registry for Custom Problem
Detail Keys in the CoRE Parameters registry <span>[<a href="#IANA.core-parameters" class="xref">IANA.core-parameters</a>]</span>,
with the policy "first come first served" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Each entry in the registry must include:<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.2-3">
          <dt id="section-5.2-3.1">Key value:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.2">
            <p id="section-5.2-3.2.1">an unsigned integer to be used as the value of the key<a href="#section-5.2-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.3">Name:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.4">
            <p id="section-5.2-3.4.1">a name that could be used in implementations for the key<a href="#section-5.2-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.5">Brief description:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.6">
            <p id="section-5.2-3.6.1">a brief description<a href="#section-5.2-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.7">Reference:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.8">
            <p id="section-5.2-3.8.1">a reference document that provides a description of the map,
including a CDDL description, that describes all inside keys and
values<a href="#section-5.2-3.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.2-4">Initial entries in this sub-registry are as follows:<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<span id="name-initial-entries-in-the-cust"></span><div id="cpdk">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-initial-entries-in-the-cust" class="selfRef">Initial Entries in the Custom Problem Detail Key registry</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Key value</th>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Brief description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">7807</td>
              <td class="text-left" rowspan="1" colspan="1">tunnel-7807</td>
              <td class="text-left" rowspan="1" colspan="1">Carry RFC 7807 problem details in a Concise Problem Details data item</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX, <a href="#comp7807" class="xref">Appendix B</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="media-type">
<section id="section-5.3">
        <h3 id="name-media-type">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-media-type" class="section-name selfRef">Media Type</a>
        </h3>
<p id="section-5.3-1">IANA is requested to add the following Media-Type to the "Media Types"
registry <span>[<a href="#IANA.media-types" class="xref">IANA.media-types</a>]</span>.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<span id="name-new-media-type-application-"></span><div id="new-media-type">
<table class="left" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-new-media-type-application-" class="selfRef">New Media Type application/concise-problem-details+cbor</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Name</th>
              <th class="text-left" rowspan="1" colspan="1">Template</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">concise-problem-details+cbor</td>
              <td class="text-left" rowspan="1" colspan="1">application/concise-problem-details+cbor</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX, <a href="#media-type" class="xref">Section 5.3</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-5.3-3">
          <dt id="section-5.3-3.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.2">
            <p id="section-5.3-3.2.1">application<a href="#section-5.3-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.4">
            <p id="section-5.3-3.4.1">concise-problem-details+cbor<a href="#section-5.3-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.6">
            <p id="section-5.3-3.6.1">none<a href="#section-5.3-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.7">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.8">
            <p id="section-5.3-3.8.1">none<a href="#section-5.3-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.9">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.10">
            <p id="section-5.3-3.10.1">binary (CBOR data item)<a href="#section-5.3-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.11">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.12">
            <p id="section-5.3-3.12.1"><a href="#seccons" class="xref">Section 4</a> of RFC XXXX<a href="#section-5.3-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.13">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.14">
            <p id="section-5.3-3.14.1">none<a href="#section-5.3-3.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.15">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.16">
            <p id="section-5.3-3.16.1"><a href="#media-type" class="xref">Section 5.3</a> of RFC XXXX<a href="#section-5.3-3.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.17">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.18">
            <p id="section-5.3-3.18.1">Clients and servers in the Internet of Things<a href="#section-5.3-3.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.19">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.20">
            <p id="section-5.3-3.20.1">The syntax and semantics of fragment identifiers is as specified for
"application/cbor".  (At publication of RFC XXXX, there is no
fragment identification syntax defined for "application/cbor".)<a href="#section-5.3-3.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.21">Person &amp; email address to contact for further information:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.22">
            <p id="section-5.3-3.22.1">CoRE WG mailing list (core@ietf.org),
or IETF Applications and Real-Time Area (art@ietf.org)<a href="#section-5.3-3.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.23">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.24">
            <p id="section-5.3-3.24.1">COMMON<a href="#section-5.3-3.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.25">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.26">
            <p id="section-5.3-3.26.1">none<a href="#section-5.3-3.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.27">Author/Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.28">
            <p id="section-5.3-3.28.1">IETF<a href="#section-5.3-3.28.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-3.29">Provisional registration:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-3.30">
            <p id="section-5.3-3.30.1">no<a href="#section-5.3-3.30.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="content-format">
<section id="section-5.4">
        <h3 id="name-content-format">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-content-format" class="section-name selfRef">Content-Format</a>
        </h3>
<p id="section-5.4-1">IANA is requested to register a Content-Format number in the
<a href="https://www.iana.org/assignments/core-parameters#content-formats" class="relref">"CoAP Content-Formats"</a>
sub-registry, within the "Constrained RESTful Environments (CoRE)
Parameters" Registry <span>[<a href="#IANA.core-parameters" class="xref">IANA.core-parameters</a>]</span>, as follows:<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<span id="name-new-content-format"></span><table class="left" id="table-4">
          <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-new-content-format" class="selfRef">New Content-Format</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Content-Type</th>
              <th class="text-left" rowspan="1" colspan="1">Content Coding</th>
              <th class="text-left" rowspan="1" colspan="1">ID</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">application/concise-problem-details+cbor</td>
              <td class="text-left" rowspan="1" colspan="1">-</td>
              <td class="text-left" rowspan="1" colspan="1">TBD1</td>
              <td class="text-left" rowspan="1" colspan="1">RFC XXXX</td>
            </tr>
          </tbody>
        </table>
<p id="section-5.4-3">TBD1 is to be assigned from the space 256..999.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<p id="section-5.4-4">In the registry as defined by <span><a href="https://rfc-editor.org/rfc/rfc7252#section-12.3" class="relref">Section 12.3</a> of [<a href="#RFC7252" class="xref">RFC7252</a>]</span> at the time of
writing, the column "Content-Type" is called "Media type" and the
column "Content Coding" is called "Encoding". <span class="cref" id="remove">This paragraph to be removed by RFC editor.</span><a href="#section-5.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-tag38">
<section id="section-5.5">
        <h3 id="name-cbor-tag-38">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-cbor-tag-38" class="section-name selfRef">CBOR Tag 38</a>
        </h3>
<p id="section-5.5-1">In the registry "<a href="https://www.iana.org/assignments/cbor-tags#cbor-tags" class="relref">CBOR Tags</a>" <span>[<a href="#IANA.cbor-tags" class="xref">IANA.cbor-tags</a>]</span>,
IANA has registered CBOR Tag 38.
IANA is requested to replace the reference for this registration with
<a href="#tag38" class="xref">Appendix A</a>, RFC XXXX.<a href="#section-5.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-6">
      <h2 id="name-references">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-normative-references">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="IANA.cbor-tags">[IANA.cbor-tags]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR) Tags"</span>, <span>&lt;<a href="https://www.iana.org/assignments/cbor-tags">https://www.iana.org/assignments/cbor-tags</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.core-parameters">[IANA.core-parameters]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Constrained RESTful Environments (CoRE) Parameters"</span>, <span>&lt;<a href="https://www.iana.org/assignments/core-parameters">https://www.iana.org/assignments/core-parameters</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IANA.media-types">[IANA.media-types]</dt>
        <dd>
<span class="refAuthor">IANA</span>, <span class="refTitle">"Media Types"</span>, <span>&lt;<a href="https://www.iana.org/assignments/media-types">https://www.iana.org/assignments/media-types</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4647">[RFC4647]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Matching of Language Tags"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 4647</span>, <span class="seriesInfo">DOI 10.17487/RFC4647</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4647">https://www.rfc-editor.org/rfc/rfc4647</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5646">[RFC5646]</dt>
        <dd>
<span class="refAuthor">Phillips, A., Ed.</span> and <span class="refAuthor">M. Davis, Ed.</span>, <span class="refTitle">"Tags for Identifying Languages"</span>, <span class="seriesInfo">BCP 47</span>, <span class="seriesInfo">RFC 5646</span>, <span class="seriesInfo">DOI 10.17487/RFC5646</span>, <time datetime="2009-09" class="refDate">September 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5646">https://www.rfc-editor.org/rfc/rfc5646</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7252">[RFC7252]</dt>
        <dd>
<span class="refAuthor">Shelby, Z.</span>, <span class="refAuthor">Hartke, K.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"The Constrained Application Protocol (CoAP)"</span>, <span class="seriesInfo">RFC 7252</span>, <span class="seriesInfo">DOI 10.17487/RFC7252</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7252">https://www.rfc-editor.org/rfc/rfc7252</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7807">[RFC7807]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">E. Wilde</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="seriesInfo">RFC 7807</span>, <span class="seriesInfo">DOI 10.17487/RFC7807</span>, <time datetime="2016-03" class="refDate">March 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7807">https://www.rfc-editor.org/rfc/rfc7807</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8126">https://www.rfc-editor.org/rfc/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8610">[RFC8610]</dt>
        <dd>
<span class="refAuthor">Birkholz, H.</span>, <span class="refAuthor">Vigano, C.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"Concise Data Definition Language (CDDL): A Notational Convention to Express Concise Binary Object Representation (CBOR) and JSON Data Structures"</span>, <span class="seriesInfo">RFC 8610</span>, <span class="seriesInfo">DOI 10.17487/RFC8610</span>, <time datetime="2019-06" class="refDate">June 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8610">https://www.rfc-editor.org/rfc/rfc8610</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9165">[RFC9165]</dt>
        <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refTitle">"Additional Control Operators for the Concise Data Definition Language (CDDL)"</span>, <span class="seriesInfo">RFC 9165</span>, <span class="seriesInfo">DOI 10.17487/RFC9165</span>, <time datetime="2021-12" class="refDate">December 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9165">https://www.rfc-editor.org/rfc/rfc9165</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD66">[STD66]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STD94">[STD94]</dt>
      <dd>
<span class="refAuthor">Bormann, C.</span> and <span class="refAuthor">P. Hoffman</span>, <span class="refTitle">"Concise Binary Object Representation (CBOR)"</span>, <span class="seriesInfo">STD 94</span>, <span class="seriesInfo">RFC 8949</span>, <span class="seriesInfo">DOI 10.17487/RFC8949</span>, <time datetime="2020-12" class="refDate">December 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8949">https://www.rfc-editor.org/rfc/rfc8949</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-6.2">
        <h3 id="name-informative-references">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-httpapi-rfc7807bis">[I-D.ietf-httpapi-rfc7807bis]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">Wilde, E.</span>, and <span class="refAuthor">S. Dalal</span>, <span class="refTitle">"Problem Details for HTTP APIs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpapi-rfc7807bis-03</span>, <time datetime="2022-05-25" class="refDate">25 May 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpapi-rfc7807bis-03">https://datatracker.ietf.org/doc/html/draft-ietf-httpapi-rfc7807bis-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RDF">[RDF]</dt>
        <dd>
<span class="refAuthor">Cyganiak, R.</span>, <span class="refAuthor">Wood, D.</span>, and <span class="refAuthor">M. Lanthaler</span>, <span class="refTitle">"RDF 1.1 Concepts and Abstract Syntax"</span>, <span class="refContent">W3C Recommendation</span>, <time datetime="2014-02-25" class="refDate">25 February 2014</time>, <span>&lt;<a href="http://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/">http://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4648">[RFC4648]</dt>
        <dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10" class="refDate">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STRING-META">[STRING-META]</dt>
        <dd>
<span class="refTitle">"Strings on the Web: Language and Direction Metadata"</span>, <span class="refContent">W3C group draft note</span>, <span>&lt;<a href="https://www.w3.org/TR/string-meta/">https://www.w3.org/TR/string-meta/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Unicode-14.0.0">[Unicode-14.0.0]</dt>
      <dd>
<span class="refAuthor">The Unicode Consortium</span>, <span class="refTitle">"The Unicode Standard, Version 14.0.0"</span>, <span class="refContent">Mountain View: The Unicode Consortium</span>, <span class="seriesInfo">ISBN 978-1-936213-29-0</span>, <time datetime="2021-09" class="refDate">September 2021</time>, <span>&lt;<a href="https://www.unicode.org/versions/Unicode14.0.0/">https://www.unicode.org/versions/Unicode14.0.0/</a>&gt;</span>. <span class="annotation">Note that while this document references a version that was recent at the time of writing, the statements made based on this version are expected to remain valid for future versions.</span>
          </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="tag38">
<section id="appendix-A">
      <h2 id="name-language-tagged-strings">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-language-tagged-strings" class="section-name selfRef">Language-Tagged Strings</a>
      </h2>
<p id="appendix-A-1">This appendix serves as the archival documentation for CBOR Tag 38, a
tag for serializing language-tagged text strings in CBOR.
The text of this appendix is adapted from the specification text
supplied for its initial registration.
It has been extended to allow supplementing the language tag by a
direction indication.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<div id="introduction-1">
<section id="appendix-A.1">
        <h3 id="name-introduction-2">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-introduction-2" class="section-name selfRef">Introduction</a>
        </h3>
<p id="appendix-A.1-1">In some cases it is useful to specify the natural language of a text
string.  This specification defines a tag that does just that.  One
technology that supports language-tagged strings is the Resource
Description Framework (RDF) <span>[<a href="#RDF" class="xref">RDF</a>]</span>.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="detailed-semantics">
<section id="appendix-A.2">
        <h3 id="name-detailed-semantics">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-detailed-semantics" class="section-name selfRef">Detailed Semantics</a>
        </h3>
<p id="appendix-A.2-1">A language-tagged string in CBOR has the tag 38 and consists of an array
with a length of 2 or 3.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<p id="appendix-A.2-2">The first element is a well-formed language tag under Best Current
Practice 47 (<span>[<a href="#RFC5646" class="xref">RFC5646</a>]</span> and <span>[<a href="#RFC4647" class="xref">RFC4647</a>]</span>), represented as a UTF-8 text
string (major type 3).<a href="#appendix-A.2-2" class="pilcrow">¶</a></p>
<p id="appendix-A.2-3">The second element is an arbitrary UTF-8 text string (major type
3). Both the language tag and the arbitrary string can optionally be
annotated with CBOR tags; this is not shown in the CDDL below.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
<p id="appendix-A.2-4">The optional third element, if present, is a Boolean value that
indicates a direction: <code>false</code> for "ltr" direction, <code>true</code> for "rtl"
direction.  If the third element is absent, no indication is made
about the direction; it can be explicitly given as <code>null</code> to express
the same while overriding any context that might be considered
applying to this element.
Note that the proper processing of Language and Direction Metadata is
an active area of investigation; the reader is advised to consult
ongoing standardization activities such as <span>[<a href="#STRING-META" class="xref">STRING-META</a>]</span> when
processing the information represented in this tag.<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<p id="appendix-A.2-5">In CDDL:<a href="#appendix-A.2-5" class="pilcrow">¶</a></p>
<div id="appendix-A.2-6">
<pre class="breakable lang-cddl sourcecode">
tag38 = #6.38([tag38-ltag, text, ?tag38-direction])
tag38-ltag = text  .abnf ("Language-Tag" .det RFC5646)
tag38-direction = &amp;(ltr: false, rtl: true, auto: null)

RFC5646 = '
 Language-Tag  = langtag             ; normal language tags
               / privateuse          ; private use tag
               / legacy              ; legacy tags

 langtag       = language
                 ["-" script]
                 ["-" region]
                 *("-" variant)
                 *("-" extension)
                 ["-" privateuse]

 language      = 2*3ALPHA            ; shortest ISO 639 code
                 ["-" extlang]       ; sometimes followed by
                                     ; extended language subtags
               / 4ALPHA              ; or reserved for future use
               / 5*8ALPHA            ; or registered language subtag

 extlang       = 3ALPHA              ; selected ISO 639 codes
                 *2("-" 3ALPHA)      ; permanently reserved

 script        = 4ALPHA              ; ISO 15924 code

 region        = 2ALPHA              ; ISO 3166-1 code
               / 3DIGIT              ; UN M.49 code

 variant       = 5*8alphanum         ; registered variants
               / (DIGIT 3alphanum)

 extension     = singleton 1*("-" (2*8alphanum))

                                     ; Single alphanumerics
                                     ; "x" reserved for private use
 singleton     = DIGIT               ; 0 - 9
               / %x41-57             ; A - W
               / %x59-5A             ; Y - Z
               / %x61-77             ; a - w
               / %x79-7A             ; y - z

 privateuse    = "x" 1*("-" (1*8alphanum))

 legacy        = irregular / regular ; different word in RFC

 irregular     = "en-GB-oed" / "i-ami" / "i-bnn" / "i-default" /
               "i-enochian" / "i-hak" / "i-klingon" / "i-lux" /
               "i-mingo" / "i-navajo" / "i-pwn" / "i-tao" / "i-tay" /
               "i-tsu" / "sgn-BE-FR" / "sgn-BE-NL" / "sgn-CH-DE"

 regular       = "art-lojban" / "cel-gaulish" / "no-bok" / "no-nyn" /
               "zh-guoyu" / "zh-hakka" / "zh-min" / "zh-min-nan" /
               "zh-xiang"

 alphanum      = (ALPHA / DIGIT)     ; letters and numbers

 ALPHA         =  %x41-5A / %x61-7A  ; A-Z / a-z
 DIGIT         =  %x30-39            ; 0-9
'
</pre><a href="#appendix-A.2-6" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-7">NOTE: Language tags of any combination of case are allowed. But
section 2.1.1 of <span>[<a href="#RFC5646" class="xref">RFC5646</a>]</span>, part of Best Current Practice 47,
recommends a case combination for language tags, that encoders that
support tag 38 may wish to follow when generating language tags.<a href="#appendix-A.2-7" class="pilcrow">¶</a></p>
<p id="appendix-A.2-8">Data items with tag 38 that do not meet the criteria above are invalid
(see <span><a href="https://rfc-editor.org/rfc/rfc8949#section-5.3.2" class="relref">Section 5.3.2</a> of [<a href="#STD94" class="xref">STD94</a>]</span>).<a href="#appendix-A.2-8" class="pilcrow">¶</a></p>
<p id="appendix-A.2-9">NOTE: The Unicode Standard <span>[<a href="#Unicode-14.0.0" class="xref">Unicode-14.0.0</a>]</span> includes a set of characters
designed for tagging text (including language tagging), in the range
U+E0000 to U+E007F. Although many applications, including RDF,
do not disallow these characters in text strings, the Unicode Consortium
has deprecated these characters and recommends annotating language via a
higher-level protocol instead. See the section "Deprecated Tag
Characters" in Section 23.9 of <span>[<a href="#Unicode-14.0.0" class="xref">Unicode-14.0.0</a>]</span>.<a href="#appendix-A.2-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples">
<section id="appendix-A.3">
        <h3 id="name-examples">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
        </h3>
<p id="appendix-A.3-1">Examples in this section are given in CBOR diagnostic notation first and then
as a pretty-printed hexadecimal representation of the encoded item.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<p id="appendix-A.3-2">The following example shows how the English-language string "Hello" is
represented.<a href="#appendix-A.3-2" class="pilcrow">¶</a></p>
<div id="appendix-A.3-3">
<pre class="lang-cbor-diag sourcecode">
38(["en", "Hello"])
</pre><a href="#appendix-A.3-3" class="pilcrow">¶</a>
</div>
<div id="appendix-A.3-4">
<pre class="lang-cbor-pretty sourcecode">
D8 26               # tag(38)
   82               # array(2)
      62            # text(2)
         656E       # "en"
      65            # text(5)
         48656C6C6F # "Hello"
</pre><a href="#appendix-A.3-4" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-5">The following example shows how the French-language string "Bonjour" is
represented.<a href="#appendix-A.3-5" class="pilcrow">¶</a></p>
<div id="appendix-A.3-6">
<pre class="lang-cbor-diag sourcecode">
38(["fr", "Bonjour"])
</pre><a href="#appendix-A.3-6" class="pilcrow">¶</a>
</div>
<div id="appendix-A.3-7">
<pre class="lang-cbor-pretty sourcecode">
D8 26                   # tag(38)
   82                   # array(2)
      62                # text(2)
         6672           # "fr"
      67                # text(7)
         426F6E6A6F7572 # "Bonjour"
</pre><a href="#appendix-A.3-7" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-8">The following example shows how the Hebrew-language string
<span class="unicode">"שלום" (HEBREW LETTER SHIN, HEBREW LETTER LAMED, HEBREW LETTER VAV, HEBREW LETTER FINAL MEM, U+05E9 U+05DC U+05D5 U+05DD)</span> is represented.
Note the <code>rtl</code> direction expressed by setting the third element in the array to "true".<a href="#appendix-A.3-8" class="pilcrow">¶</a></p>
<div id="appendix-A.3-9">
<pre class="lang-cbor-diag sourcecode">
38(["he", "שלום", true])
</pre><a href="#appendix-A.3-9" class="pilcrow">¶</a>
</div>
<div id="appendix-A.3-10">
<pre class="lang-cbor-pretty sourcecode">
D8 26                     # tag(38)
   83                     # array(3)
      62                  # text(2)
         6865             # "he"
      68                  # text(8)
         D7A9D79CD795D79D # "שלום"
      F5                  # primitive(21)
</pre><a href="#appendix-A.3-10" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="comp7807">
<section id="appendix-B">
      <h2 id="name-interworking-with-rfc-7807">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-interworking-with-rfc-7807" class="section-name selfRef">Interworking with RFC 7807</a>
      </h2>
<p id="appendix-B-1">On certain occasions, it will be necessary to carry ("tunnel")
<span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> problem details in a Concise Problem Details data item.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">This appendix defines a Custom Problem Details entry for that purpose.
This is assigned Custom Problem Detail key 7807 in <a href="#iana-cpdk" class="xref">Section 5.2</a>.
Its structure is:<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<div id="appendix-B-3">
<pre class="lang-cddl sourcecode">
tunnel-7807 = {
  ? &amp;(type: 0) =&gt; ~uri
  ? &amp;(status: 1) =&gt; 0..999
  * text =&gt; any
}
</pre><a href="#appendix-B-3" class="pilcrow">¶</a>
</div>
<p id="appendix-B-4">To carry an <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> problem details JSON object in a Concise Problem
Details data item, first convert the JSON object to CBOR as per <span><a href="https://rfc-editor.org/rfc/rfc8949#section-6.2" class="relref">Section 6.2</a> of [<a href="#STD94" class="xref">STD94</a>]</span>.  Create an empty Concise Problem Details data item.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
<p id="appendix-B-5">Move the values for "title", "detail", and "instance", if present,
from the <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> problem details to the equivalent Standard Problem
Detail entries.
Create a Custom Problem Details entry with key 7807.
Move the values for "type" and "status", if present, to the equivalent
keys 0 and 1 of the Custom Problem Details entry.
Move all remaining key/value pairs (additional members as per <span><a href="https://rfc-editor.org/rfc/rfc7807#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC7807" class="xref">RFC7807</a>]</span>) in the converted <span>[<a href="#RFC7807" class="xref">RFC7807</a>]</span> problem
details object to the Custom Problem Details map unchanged.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<p id="appendix-B-6">The inverse direction, carrying Concise Problem Details in a Problem
Details JSON object requires the additional support provided by
<span>[<a href="#I-D.ietf-httpapi-rfc7807bis" class="xref">I-D.ietf-httpapi-rfc7807bis</a>]</span>, which is planned to create the HTTP Problem Types
Registry.  An HTTP Problem Type can then be registered that extracts
top-level items from the Concise Problem Details data item in a similar way
to the conversion described above, and which carries the rest of the
Concise Problem Details data item in an additional member via base64url
encoding without padding (<span><a href="https://rfc-editor.org/rfc/rfc4648#section-5" class="relref">Section 5</a> of [<a href="#RFC4648" class="xref">RFC4648</a>]</span>).  Details can be defined
in a separate document when the work on <span>[<a href="#I-D.ietf-httpapi-rfc7807bis" class="xref">I-D.ietf-httpapi-rfc7807bis</a>]</span> is completed.<a href="#appendix-B-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-C">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-C-1"><span class="contact-name">Mark Nottingham</span> and <span class="contact-name">Erik Wilde</span>, authors of RFC 7807.  <span class="contact-name">Klaus Hartke</span> and <span class="contact-name">Jaime Jiménez</span>, co-authors of an earlier generation of this
specification.  <span class="contact-name">Christian Amsüss</span>, <span class="contact-name">Marco Tiloca</span>, <span class="contact-name">Ari Keränen</span>
and <span class="contact-name">Michael Richardson</span> for review and comments on this document.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">For <a href="#tag38" class="xref">Appendix A</a>, John Cowan and Doug Ewell are also to be acknowledged.
The content of an earlier version of this appendix was also discussed
in the "apps-discuss at ietf.org" and "ltru at ietf.org" mailing
lists.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="appendix-D">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peter Occil</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:poccil14%20at%20gmail%20dot%20com" class="email">poccil14 at gmail dot com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://peteroupc.github.io/CBOR/" class="url">http://peteroupc.github.io/CBOR/</a>
</div>
</address>
<p id="appendix-D-1">Peter defined CBOR tag 38, basis of <a href="#tag38" class="xref">Appendix A</a>.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Thomas Fossati</span></div>
<div dir="auto" class="left"><span class="org">arm</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:thomas.fossati@arm.com" class="email">thomas.fossati@arm.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Carsten Bormann</span></div>
<div dir="auto" class="left"><span class="org">Universität Bremen TZI</span></div>
<div dir="auto" class="left"><span class="street-address">Postfach 330440</span></div>
<div dir="auto" class="left">
<span class="postal-code">D-28359</span> <span class="locality">Bremen</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+49-421-218-63921" class="tel">+49-421-218-63921</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:cabo@tzi.org" class="email">cabo@tzi.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
